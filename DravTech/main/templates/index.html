{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'assets/css/services.css' %}">

<style>
/* Hero Carousel Styles */
.hero-full {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

.carousel-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0;
  transition: opacity 1s ease-in-out;
}

.carousel-slide.active {
  opacity: 1;
}

.carousel-caption {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: white;
  z-index: 2;
  max-width: 800px;
  padding: 0 20px;
}

.carousel-caption h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 1rem;
  line-height: 1.2;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
  animation: slideInDown 1s ease-out;
}

.carousel-caption p {
  font-size: 1rem;
  margin-bottom: 1.5rem;
  line-height: 1.6;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
  animation: slideInUp 1s ease-out 0.3s both;
}

.carousel-caption .highlight {
  color: #0ea5e9;
}

.hero-ctas {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
  animation: fadeIn 1s ease-out 0.6s both;
}

.hero-ctas .btn {
  padding: 14px 32px;
  font-size: 0.95rem;
  font-weight: 600;
  text-decoration: none;
  border-radius: 50px;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  border: 2px solid transparent;
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.hero-ctas .btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.hero-ctas .btn:hover::before {
  left: 100%;
}

.hero-ctas .btn-primary {
  background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
  color: white;
  box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3);
}

.hero-ctas .btn-primary:hover {
  background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 25px rgba(14, 165, 233, 0.5);
}

.hero-ctas .btn-secondary {
  background: transparent;
  color: white;
  border-color: white;
  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
}

.hero-ctas .btn-secondary:hover {
  background: white;
  color: #0ea5e9;
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.3);
}

.hero-ctas .btn-tertiary {
  background: rgba(255, 255, 255, 0.1);
  color: white;
  border-color: rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(10px);
}

.hero-ctas .btn-tertiary:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
}

/* Overlay for better text readability */
.carousel-slide::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.6) 100%);
  z-index: 1;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .carousel-caption h1 {
    font-size: 2rem;
  }
  
  .carousel-caption p {
    font-size: 0.9rem;
  }
  
  .hero-ctas {
    flex-direction: column;
    align-items: center;
  }
  
  .hero-ctas .btn {
    width: 250px;
    text-align: center;
    font-size: 0.85rem;
  }
}

@media (max-width: 480px) {
  .carousel-caption h1 {
    font-size: 1.8rem;
  }
  
  .carousel-caption p {
    font-size: 0.85rem;
  }
  
  .hero-ctas .btn {
    padding: 12px 24px;
    font-size: 0.8rem;
  }
}

/* Animation Keyframes */
@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
</style>

  <main class="main">

<!-- Hero Section: Image carousel only -->
<section id="hero" class="hero section p-0" style="padding:0;margin-top:0;">
  <div class="container-fluid p-0" data-aos="fade-up" data-aos-delay="100">

    <div id="media-rotator" class="media-rotator"
         data-slide-duration="4000"
         style="position:relative;">

      <!-- ================= CAROUSEL ================= -->
      <div id="carousel" class="simple-carousel hero-full">

        <div class="carousel-slide active"
             data-bg="{% static 'assets/img/hero/her03.jpg' %}"
             data-fallback="{% static 'assets/img/hero/her03.jpg' %}">
          <img class="slide-src"
               src="{% static 'assets/img/hero/hero1.avif' %}"
               alt="Building Secure & Smart Digital Solutions"
               data-fallback="{% static 'assets/img/hero/her03.jpg' %}"
               style="position:absolute;width:1px;height:1px;left:-9999px;">
          <div class="carousel-caption">
            <h1 class="mt-0">
              Building <span class="highlight">Integrated</span><br>
               Creative Solutions
            </h1>
            <p>
              We bring together technology, media, design, and research to deliver
              impactful solutions driven by engineers, designers, economists,
              and data experts.
            </p>
            <div class="hero-ctas d-flex flex-wrap gap-3 justify-content-center">
               <a class="btn btn-primary" href="{% url 'request_demo' %}">Request Demo</a>
              <a class="btn btn-secondary" href="{% url 'contact' %}">Get in Touch</a>
              <a class="btn btn-tertiary" href="#services">View Services</a>
            </div>
          </div>
        </div>

        <div class="carousel-slide"
             data-bg="{% static 'assets/img/hero/hero2.jpg' %}"
             data-fallback="{% static 'assets/img/hero/hero2.jpg' %}">
          <img class="slide-src"
               src="{% static 'assets/img/hero/hero1.jpg' %}"
               alt="System and Web Development"
               style="position:absolute;width:1px;height:1px;left:-9999px;">
          <div class="carousel-caption">
            <h1 class="mt-0">
              Technology, <span class="highlight">Design</span> &amp;<br>
              Media Solutions
            </h1>
            <p>
              From software and digital platforms to visual design, storytelling,
              and media engagement, we create solutions that inform, connect,
              and scale with purpose.
            </p>
            <div class="hero-ctas d-flex flex-wrap gap-3 justify-content-center">
              <a class="btn btn-primary" href="{% url 'request_demo' %}">Request Demo</a>
              <a class="btn btn-secondary" href="{% url 'contact' %}">Get in Touch</a>
              <a class="btn btn-tertiary" href="#services">View Services</a>
            </div>
          </div>
        </div>

        <div class="carousel-slide"
             data-bg="{% static 'assets/img/hero/hero2.avif' %}"
             data-fallback="{% static 'assets/img/hero/hero2.jpg' %}">
          <img class="slide-src"
               src="{% static 'assets/img/hero/hero3.avif' %}"
               alt="Cybersecurity & Consulting"
               style="position:absolute;width:1px;height:1px;left:-9999px;">
          <div class="carousel-caption">
            <h1 class="mt-0">
              Data, <span class="highlight">Insight  &amp;</span><br>
              Strategic Impact
            </h1>
            <p>
              We combine data analysis, research, technology, and strategic thinking
              to support informed decision-making, innovation, and sustainable growth.
            </p>
            <div class="hero-ctas d-flex flex-wrap gap-3 justify-content-center">
              <a class="btn btn-primary" href="{% url 'request_demo' %}">Request Demo</a>
              <a class="btn btn-secondary" href="{% url 'contact' %}">Get in Touch</a>
              <a class="btn btn-tertiary" href="#services">View Services</a>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>
</section>

    <!-- Inline styles & carousel script -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      const rotator = document.getElementById('media-rotator');
      if (!rotator) return;

      const carousel = document.getElementById('carousel');
      const slides = Array.from(carousel.querySelectorAll('.carousel-slide'));
  
  // Set CSS var for header height so hero can calculate full-viewport height beneath the nav
  const headerEl = document.getElementById('header');
  const headerHeight = headerEl ? headerEl.offsetHeight : 0;
  document.documentElement.style.setProperty('--header-height', headerHeight + 'px');

  // Preload background images by assigning data-bg immediately (starts browser fetch)
  slides.forEach(s => {
    const bg = s.dataset.bg;
    if (bg) s.style.backgroundImage = `url('${bg}')`;
  });

      // Admin-configurable via data attributes (ms). Default provided.
      const slideDuration = parseInt(rotator.dataset.slideDuration, 10) || 4000; // ms per slide

  let slideIndex = 0;
      let slideTimer = null;

      function showSlide(i) {
        slides.forEach((s, idx) => {
          s.classList.toggle('active', idx === i);
          // ensure background-image is set from data-bg
          const bg = s.dataset.bg;
          if (bg) s.style.backgroundImage = `url('${bg}')`;
        });
        carousel.style.display = '';
      }

      function startCarouselLoop() {
        showSlide(slideIndex);
        slideTimer = setInterval(() => {
          slideIndex = (slideIndex + 1) % slides.length;
          showSlide(slideIndex);
        }, slideDuration);
      }

      startCarouselLoop();

        // Set up hidden-img based fallback/initialization for slide backgrounds
        slides.forEach(s => {
          const hidden = s.querySelector('.slide-src');
          if (!hidden) return;
          // if image loads, set parent background to its src
          hidden.addEventListener('load', function () {
            if (hidden.src) s.style.backgroundImage = `url('${hidden.src}')`;
          });
          // if it errors, use data-fallback
          hidden.addEventListener('error', function () {
            const fb = hidden.dataset.fallback || s.dataset.fallback || document.body.dataset.defaultImgFallback;
            if (fb) s.style.backgroundImage = `url('${fb}')`;
          });
          // trigger immediate background set if image already cached
          if (hidden.complete && hidden.naturalWidth) {
            s.style.backgroundImage = `url('${hidden.src}')`;
          }
          
        });
  });
</script>

  <!-- Services Section -->
<section id="services" class="services section">

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const stats = document.querySelectorAll('.stats-row .stat-item');
      if (!stats || stats.length === 0) return;
      stats.forEach((el, idx) => {
        setTimeout(() => el.classList.add('is-visible'), 150 + idx * 90);
      });
    });
  </script>

  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Our Services</h2>
    <p>
      Structured, scalable solutions across engineering, design, data,
      and research â€” built for performance and long-term impact.
    </p>
  </div>
  <!-- End Section Title -->

  <div class="container" data-aos="fade-up" data-aos-delay="100">

    <div class="row g-4">

      {% if featured_services %}
        {% for service in featured_services %}
          <div class="col-lg-4 col-md-6" data-aos="fade-up">

            <div class="service-card {% if service.is_featured %}featured{% endif %}">

              {% if service.image %}
                <div class="image-wrapper">
                  <img
                    src="{{ service.image.url }}"
                    alt="{{ service.title }}"
                    class="img-fluid"
                    loading="lazy"
                    data-fallback="{% static 'assets/img/logo.jpeg' %}"
                    onerror="this.onerror=null;this.src=this.dataset.fallback;">
                </div>
              {% else %}
                <div class="image-wrapper default-bg d-flex align-items-center justify-content-center">
                  <span class="service-tagline">
                    {{ service.tagline|default:"Professional Service" }}
                  </span>
                </div>
              {% endif %}

              <h3>{{ service.title }}</h3>

              <p>
                {{ service.overview|truncatechars:140 }}
              </p>

              <a href="{% url 'service_detail' slug=service.slug %}" class="service-link">
                <span>View Details</span>
                <i class="bi bi-arrow-right" aria-hidden="true"></i>
              </a>

            </div>

          </div>
        {% endfor %}
      {% else %}
        <div class="col-12 text-center">
          <p>No services available at the moment.</p>
        </div>
      {% endif %}

    </div>

    <!-- View All Services CTA -->
    <div class="text-center mt-5" data-aos="fade-up" data-aos-delay="300">
      <a href="{% url 'services:list' %}" class="btn btn-primary">
        View All Services
      </a>
    </div>

    <!-- Stats Row -->
    <div class="stats-row mt-5" data-aos="fade-up" data-aos-delay="400">
      <div class="row g-4 justify-content-center">

        {% if stats %}
          {% for stat in stats %}
            <div class="col-6 col-md-3">
              <div class="stat-item">
                <span class="stat-number">{{ stat.value }}</span>
                <span class="stat-label">{{ stat.label }}</span>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <!-- Optional default stats -->
          <div class="col-6 col-md-3">
            <div class="stat-item">
              <span class="stat-number">{{ featured_services|length }}</span>
              <span class="stat-label">Featured Services</span>
            </div>
          </div>
        {% endif %}

      </div>
    </div>
  </div>
</section>

  <!-- Featured Case Studies Section -->
  <section class="case-studies-section">
    <div class="container">
      <div class="section-header" data-aos="fade-up">
        <div class="section-icon">
          <i class="bi bi-briefcase"></i>
        </div>
        <h2>Featured Case Studies</h2>
        <p>Real-world examples of our work delivering measurable results for clients across different industries.</p>
      </div>

      <!-- Featured Case Studies Grid -->
      <div class="case-studies-grid" data-aos="fade-up" data-aos-delay="100">
        {% if featured_case_studies %}
          {% for case_study in featured_case_studies %}
            <div class="case-study-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}00">
              
              <!-- Case Study Image -->
              <div class="case-study-image-wrapper">
                {% if case_study.image %}
                  <img src="{{ case_study.image.url }}" 
                       alt="{{ case_study.title }}" 
                       class="case-study-image"
                       loading="lazy">
                {% else %}
                  <div class="case-study-placeholder">
                    <i class="bi bi-briefcase"></i>
                    <span>{{ case_study.title|truncatewords:5 }}</span>
                  </div>
                {% endif %}
                
                <!-- Overlay with quick actions -->
                <div class="case-study-overlay">
                  <div class="overlay-content">
                    <a href="{% url 'services:case_study_detail' case_study.slug %}" class="overlay-btn">
                      <i class="bi bi-eye"></i>
                      View Details
                    </a>
                  </div>
                </div>
              </div>

              <!-- Case Study Content -->
              <div class="case-study-content">
                <div class="case-study-header">
                  <h3>{{ case_study.title }}</h3>
                  
                  <!-- Service Information -->
                  <div class="case-study-meta">
                    <div class="case-study-service">
                      <span class="service-badge">{{ case_study.service.category.name }}</span>
                      <span>{{ case_study.service.title }}</span>
                    </div>
                  </div>
                </div>
                
                <p class="case-study-summary">
                  {{ case_study.summary|truncatewords:20 }}
                </p>

                <!-- Key Results -->
                {% if case_study.results %}
                  <div class="case-study-results">
                    <h5>Key Results</h5>
                    <div class="results-grid">
                      {% for result in case_study.results_list %}
                        <div class="result-item">
                          <span class="result-value">{{ result|truncatewords:8 }}</span>
                        </div>
                      {% endfor %}
                    </div>
                  </div>
                {% endif %}

                <!-- Action Buttons -->
                <div class="case-study-actions">
                  <a href="{% url 'services:case_study_detail' case_study.slug %}" class="btn btn-primary btn-sm">
                    <i class="bi bi-eye me-1"></i>
                    View Case Study
                  </a>
                  <a href="{% url 'services:detail' case_study.service.slug %}" class="btn btn-outline-primary btn-sm">
                    <i class="bi bi-info-circle me-1"></i>
                    View Service
                  </a>
                </div>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <div class="col-12 text-center">
            <div class="empty-state">
              <i class="bi bi-briefcase"></i>
              <h3>No Case Studies Available</h3>
              <p>We're currently updating our portfolio. Please check back soon.</p>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </section>

  <style>
.bridge-section {
  padding: 80px 0;
  background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
  position: relative;
  overflow: hidden;
}

.bridge-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.1);
  z-index: 1;
}

.bridge-content {
  position: relative;
  z-index: 2;
  text-align: center;
  max-width: 800px;
  margin: 0 auto;
}

.bridge-label {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: rgba(255,255,255,0.2);
  color: white;
  padding: 8px 16px;
  border-radius: 50px;
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 20px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.3);
}

.bridge-text {
  font-size: 1.4rem;
  color: white;
  line-height: 1.6;
  font-weight: 400;
  margin: 10px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.bridge-decoration {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}

.floating-shape {
  position: absolute;
  border-radius: 50%;
  background: rgba(255,255,255,0.1);
  animation: float 6s ease-in-out infinite;
}

.bridge-decoration .shape-1 {
  width: 80px;
  height: 80px;
  top: 20%;
  left: 10%;
  animation-delay: 0s;
}

.bridge-decoration .shape-2 {
  width: 60px;
  height: 60px;
  top: 60%;
  right: 15%;
  animation-delay: 2s;
}

.bridge-decoration .shape-3 {
  width: 40px;
  height: 40px;
  bottom: 20%;
  left: 20%;
  animation-delay: 4s;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@media (max-width: 768px) {
  .bridge-text {
    font-size: 1.2rem;
    padding: 0 20px;
  }
  
  .bridge-section {
    padding: 60px 0;
  }
}
</style>

<!-- Bridge Section -->
<section class="bridge-section section">
  <div class="container">
    <div class="bridge-content">
      <span class="bridge-label"><i class="bi bi-lightning-charge-fill"></i> Ready Solutions Available</span>
      <p class="bridge-text">
        While our services provide custom solutions tailored to your unique needs, 
        some challenges are already solved with ready-to-deploy platforms.
      </p>
    </div>
  </div>
  <div class="bridge-decoration">
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    <div class="floating-shape shape-3"></div>
  </div>
</section>

<!-- Marketplace Section -->
<section id="marketplace" class="marketplace section">

  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Marketplace</h2>
    <p>
      Discover our curated collection of premium digital products, merchandise, and artwork. 
      Each solution is carefully crafted to deliver exceptional value and immediate results.
    </p>
  </div><!-- End Section Title -->

  <div class="container" data-aos="fade-up" data-aos-delay="100">

    <!-- Featured Products Grid -->
    <div class="row g-4">
      {% if featured_products %}
        {% for product in featured_products %}
          <div class="col-lg-4 col-md-6" data-aos="fade-up">
            <div class="marketplace-product-card {% if product.is_featured %}featured{% endif %}">
              {% if product.is_featured %}
                <div class="product-badge">Featured</div>
              {% endif %}
              
              <div class="product-image">
                {% if product.image %}
                  <img src="{{ product.image.url }}" alt="{{ product.title }}" loading="lazy">
                {% else %}
                  <div class="product-placeholder">
                    {% if product.product_type == 'digital' %}
                      <i class="bi bi-laptop"></i>
                    {% elif product.product_type == 'merch' %}
                      <i class="bi bi-bag"></i>
                    {% elif product.product_type == 'artwork' %}
                      <i class="bi bi-palette"></i>
                    {% endif %}
                  </div>
                {% endif %}
              </div>
              
              <div class="product-content">
                <h3>{{ product.title }}</h3>
                <p class="product-description">{{ product.tagline|default:product.description|truncatewords:15 }}</p>
                
                {% if product.product_type == 'digital' %}
                  <!-- Digital Product CTA: Request Demo -->
                  <div class="product-features">
                    {% if product.features %}
                      <ul>
                        {% for feature in product.features|slice:":3" %}
                          <li><i class="bi bi-check-circle"></i> {{ feature }}</li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </div>
                  <div class="product-ctas">
                    {% if product.requires_demo %}
                      <a href="{% url 'request_demo' %}?product={{ product.slug }}" class="btn btn-primary">
                        <i class="bi bi-play-circle"></i>
                        Request Demo
                      </a>
                    {% else %}
                      <a href="{% url 'marketplace:product-detail' product.slug %}" class="btn btn-primary">
                        <i class="bi bi-cart-plus"></i>
                        View Plans
                      </a>
                    {% endif %}
                    <a href="{% url 'marketplace:product-detail' product.slug %}" class="btn btn-outline-primary">
                      <i class="bi bi-eye"></i>
                      View Details
                    </a>
                  </div>
                  
                {% elif product.product_type in 'merch' or product.product_type == 'artwork' %}
                  <!-- Merchandise/Artwork CTA: Add to Cart -->
                  <div class="product-price">
                    {% if product.price %}
                      <span class="price">KES {{ product.price|floatformat:0|intcomma }}</span>
                      <span class="price-period">
                        {% if product.is_physical %}shipped{% else %}download{% endif %}
                      </span>
                    {% endif %}
                  </div>
                  <div class="product-features">
                    {% if product.features %}
                      <ul>
                        {% for feature in product.features|slice:":3" %}
                          <li><i class="bi bi-check-circle"></i> {{ feature }}</li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </div>
                  <div class="product-ctas">
                    <button class="btn btn-primary btn-add-to-cart"
                            data-product-id="{{ product.id }}"
                            data-product-name="{{ product.title }}">
                      <i class="bi bi-cart-plus"></i>
                      Add to Cart
                    </button>
                    <a href="{% url 'marketplace:product-detail' product.slug %}" class="btn btn-outline-primary">
                      <i class="bi bi-eye"></i>
                      View Details
                    </a>
                  </div>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <div class="col-12 text-center">
          <p class="text-muted">
            Our marketplace is being curated with amazing products. 
            <a href="{% url 'contact' %}">Contact us</a> to learn more.
          </p>
        </div>
      {% endif %}
    </div>

    <!-- View All Products -->
    <div class="text-center mt-5" data-aos="fade-up" data-aos-delay="600">
      <a href="{% url 'marketplace:marketplace' %}" class="btn btn-lg btn-primary">
        <i class="bi bi-shop"></i>
        View All Products
      </a>
    </div>

  </div>

</section>
<!-- /Marketplace Section -->

    <!-- Why Us Section -->
    <section id="why-us" class="why-us section light-background">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Why Us</h2>
        <p>Why organizations trust DravTech: deep technical expertise, security-first engineering, and a relentless focus on measurable outcomes.</p>
      </div><!-- End Section Title -->

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row g-5">
          <div class="col-lg-5" data-aos="fade-right" data-aos-delay="200">
            <div class="sidebar-content">
              <div class="badge-wrapper">
                <span class="section-badge"><i class="bi bi-stars"></i> Our Difference</span>
              </div>
              <h2>Transform Your Vision Into Digital Excellence</h2>
              <p class="description">We combine engineering rigor and product thinking to build digital tools that are reliable, secure, and aligned with your business goals.</p>

              <div class="stat-cards">
                <div class="stat-card" data-aos="zoom-in" data-aos-delay="300">
                  <div class="stat-value">
                    <span class="purecounter" data-purecounter-start="0" data-purecounter-end="180" data-purecounter-duration="2">180</span>+
                  </div>
                  <div class="stat-text">Successful Campaigns</div>
                </div>
                <div class="stat-card" data-aos="zoom-in" data-aos-delay="350">
                  <div class="stat-value">
                    <span class="purecounter" data-purecounter-start="0" data-purecounter-end="95" data-purecounter-duration="2">95</span>%
                  </div>
                  <div class="stat-text">Customer Satisfaction</div>
                </div>
                <div class="stat-card" data-aos="zoom-in" data-aos-delay="400">
                  <div class="stat-value">
                    <span class="purecounter" data-purecounter-start="0" data-purecounter-end="320" data-purecounter-duration="2">320</span>%
                  </div>
                  <div class="stat-text">Growth Achieved</div>
                </div>
              </div>

              <div class="action-buttons">
                <a href="#" class="btn-main">Get Started Today</a>
              </div>
            </div>
          </div>

          <div class="col-lg-7" data-aos="fade-left" data-aos-delay="200">
            <div class="features-grid">
              <div class="feature-box highlight" data-aos="fade-up" data-aos-delay="250">
                <div class="feature-ribbon">Top Rated</div>
                <div class="feature-icon">
                  <i class="bi bi-rocket-takeoff-fill"></i>
                </div>
                <div class="feature-content">
                  <h4>Rapid Implementation</h4>
                  <p>Delivering production-ready solutions quickly using proven processes, automation, and incremental delivery.</p>
                  <a href="#" class="feature-link">Discover How <i class="bi bi-chevron-right"></i></a>
                </div>
              </div><!-- End Feature Box -->

              <div class="feature-box" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-icon">
                  <i class="bi bi-bar-chart-line-fill"></i>
                </div>
                <div class="feature-content">
                  <h4>Analytics-First Approach</h4>
                  <p>We design systems that capture meaningful metrics so decisions are driven by data and validated with real usage.</p>
                  <a href="#" class="feature-link">Discover How <i class="bi bi-chevron-right"></i></a>
                </div>
              </div><!-- End Feature Box -->

              <div class="feature-box" data-aos="fade-up" data-aos-delay="350">
                <div class="feature-icon">
                  <i class="bi bi-award-fill"></i>
                </div>
                <div class="feature-content">
                  <h4>Award-Winning Team</h4>
                  <p>Experienced engineers, designers, and security specialists who deliver dependable software at scale.</p>
                  <a href="#" class="feature-link">Discover How <i class="bi bi-chevron-right"></i></a>
                </div>
              </div><!-- End Feature Box -->
            </div>

            <div class="process-timeline" data-aos="fade-up" data-aos-delay="400">
              <h5 class="timeline-title"><i class="bi bi-diagram-3-fill"></i> Our Proven Methodology</h5>
              <div class="timeline-steps">
                <div class="timeline-step">
                  <div class="step-marker">1</div>
                  <div class="step-info">
                    <strong>Research</strong>
                    <span>Gathering insights</span>
                  </div>
                </div>
                <div class="timeline-connector"></div>
                <div class="timeline-step">
                  <div class="step-marker">2</div>
                  <div class="step-info">
                    <strong>Blueprint</strong>
                    <span>Creating roadmap</span>
                  </div>
                </div>
                <div class="timeline-connector"></div>
                <div class="timeline-step">
                  <div class="step-marker">3</div>
                  <div class="step-info">
                    <strong>Build</strong>
                    <span>Developing solution</span>
                  </div>
                </div>
                <div class="timeline-connector"></div>
                <div class="timeline-step">
                  <div class="step-marker">4</div>
                  <div class="step-info">
                    <strong>Refine</strong>
                    <span>Iterating results</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="capabilities-section" data-aos="fade-up" data-aos-delay="450">
              <h5 class="capabilities-heading">What We Bring to the Table</h5>
              <div class="capabilities-grid">
                <div class="capability-card">
                  <div class="capability-icon">
                    <i class="bi bi-bullseye"></i>
                  </div>
                  <h6>Strategic Consulting</h6>
                  <p>Align technology strategy with measurable business outcomes and practical roadmaps.</p>
                </div>
                <div class="capability-card">
                  <div class="capability-icon">
                    <i class="bi bi-code-slash"></i>
                  </div>
                  <h6>Tailored Development</h6>
                  <p>Custom software engineered with modern patterns, automated testing, and secure deployment practices.</p>
                </div>
                <div class="capability-card">
                  <div class="capability-icon">
                    <i class="bi bi-arrow-repeat"></i>
                  </div>
                  <h6>Continuous Enhancement</h6>
                  <p>Ongoing improvements, monitoring, and support to keep your systems secure and performing.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </section><!-- /Why Us Section -->

  
   {% include "./partials/contact_section.html" %}

  </main>

<script>
// Add to Cart functionality
document.querySelectorAll('.btn-add-to-cart').forEach(btn => {
  btn.addEventListener('click', async function() {
    const productId = this.dataset.productId;
    const btn = this;
    const originalText = btn.innerHTML;
    
    // Show loading state
    btn.disabled = true;
    btn.innerHTML = '<i class="bi bi-hourglass-split"></i> Adding...';
    
    try {
      const response = await fetch(`/marketplace/cart/add/${productId}/`, {
        method: 'POST',
        headers: {
          'X-CSRFToken': document.cookie.match(/csrftoken=([^;]+)/)?.[1] || '',
          'Content-Type': 'application/json',
        },
      });
      
      const data = await response.json();
      
      if (data.success) {
        // Success feedback
        btn.innerHTML = '<i class="bi bi-check2"></i> Added!';
        btn.classList.add('btn-success');
        
        // Update cart badge if it exists
        const cartBadge = document.querySelector('#cart-count');
        if (cartBadge) {
          cartBadge.textContent = data.cart_count;
        }
        
        // Show success notification
        showNotification('Product added to cart!', 'success');
        
        // Reset button after delay
        setTimeout(() => {
          btn.disabled = false;
          btn.innerHTML = originalText;
          btn.classList.remove('btn-success');
        }, 2000);
      } else {
        throw new Error(data.error || 'Failed to add to cart');
      }
    } catch (error) {
      console.error('Add to cart error:', error);
      btn.disabled = false;
      btn.innerHTML = originalText;
      showNotification('Failed to add to cart. Please try again.', 'error');
    }
  });
});

// Notification function
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `cart-notification cart-notification-${type}`;
  notification.innerHTML = `
    <i class="bi bi-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
    <span>${message}</span>
  `;
  
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: ${type === 'success' ? '#10b981' : '#ef4444'};
    color: white;
    padding: 12px 20px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    z-index: 9999;
    font-weight: 500;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transform: translateX(100%);
    transition: transform 0.3s ease;
  `;
  
  document.body.appendChild(notification);
  
  // Animate in
  setTimeout(() => {
    notification.style.transform = 'translateX(0)';
  }, 100);
  
  // Remove after 3 seconds
  setTimeout(() => {
    notification.style.transform = 'translateX(100%)';
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}
</script>

 {% endblock %}