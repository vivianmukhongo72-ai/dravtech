{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'assets/css/about.css' %}">

<main class="main about-page">

  <!-- Full-page background wrapper -->
  <div
    class="about-bg"
    style="background-image: url('{% static "assets/img/about/about-5.webp" %}');"
  >
    <div class="about-overlay"></div>

    <div class="about-content container">

      <!-- Hero Section - Jumbotron -->
      {% if about_page %}
        <section id="about-hero" class="about-section hero jumbotron-section" data-aos="fade-up">
          <div class="jumbotron-card hero-jumbo">
            <div class="jumbotron-icon">
              <i class="bi bi-rocket-takeoff"></i>
            </div>
            <div class="hero-inner">
              <h1 class="hero-title">
                {{ about_page.hero_headline }}
              </h1>
              {% if about_page.hero_subtitle %}
                <p class="hero-subtitle">
                  {{ about_page.hero_subtitle }}
                </p>
              {% endif %}

              {% if about_page.hero_cta_label %}
                <div class="hero-cta">
                  <a
                    href="{{ about_page.hero_cta_url|default:'/request-demo/' }}"
                    class="btn btn-primary btn-lg"
                  >
                    {{ about_page.hero_cta_label }}
                    <i class="bi bi-arrow-right ms-2"></i>
                  </a>
                </div>
              {% endif %}
            </div>
          </div>
        </section>
      {% endif %}

      <!-- Timeline Section - Staircase Style -->
      {% if timeline_entries %}
        <section id="about-timeline" class="about-section timeline" data-aos="fade-up">
          <div class="section-header">
            <div class="section-icon">
              <i class="bi bi-clock-history"></i>
            </div>
            <h2>Our Journey</h2>
            <p>
              How Dravtech grew from a grassroots idea into a multidisciplinary company.
            </p>
          </div>

          <div class="timeline-staircase">
            {% for item in timeline_entries %}
              <div class="timeline-step" data-aos="fade-{{ forloop.counter0|divisibleby:2|yesno:'right,left' }}" data-aos-delay="{{ forloop.counter0|add:1|stringformat:'d' }}00">
                <div class="timeline-step-card">
                  <div class="timeline-year-badge">
                    <i class="bi bi-calendar-check"></i>
                    <span>{{ item.year_label }}</span>
                  </div>
                  <div class="timeline-content">
                    <h3>{{ item.title }}</h3>
                    <p>{{ item.description }}</p>
                  </div>
                  <div class="timeline-connector"></div>
                </div>
              </div>
            {% endfor %}
          </div>
        </section>
      {% endif %}

      <!-- Mission & Vision Section - Jumbotron Cards -->
      {% if about_page and about_page.mission_body and about_page.vision_body %}
        <section id="about-mission-vision" class="about-section mission-vision jumbotron-section" data-aos="fade-up">
          <div class="row g-5">
            <div class="col-lg-6" data-aos="zoom-in" data-aos-delay="100">
              <div class="jumbotron-card mission-card">
                <div class="jumbotron-icon">
                  <i class="bi bi-bullseye"></i>
                </div>
                <div class="jumbotron-image" style="background-image: url('{% static 'assets/img/about/mission.jpg' %}');"></div>
                <h2>{{ about_page.mission_title|default:"Our Mission" }}</h2>
                <p class="mission-vision-text">
                  {{ about_page.mission_body }}
                </p>
              </div>
            </div>
            <div class="col-lg-6" data-aos="zoom-in" data-aos-delay="200">
              <div class="jumbotron-card vision-card">
                <div class="jumbotron-icon">
                  <i class="bi bi-lightbulb"></i>
                </div>
                <div class="jumbotron-image" style="background-image: url('{% static 'assets/img/about/vision.jpg' %}');"></div>
                <h2>{{ about_page.vision_title|default:"Our Vision" }}</h2>
                <p class="mission-vision-text">
                  {{ about_page.vision_body }}
                </p>
              </div>
            </div>
          </div>
        </section>
      {% elif about_page and about_page.mission_body %}
        <section id="about-mission" class="about-section mission jumbotron-section" data-aos="fade-up">
          <div class="jumbotron-card mission-card">
            <div class="jumbotron-icon">
              <i class="bi bi-bullseye"></i>
            </div>
            <h2>{{ about_page.mission_title|default:"Our Mission" }}</h2>
            <p class="mission-vision-text">
              {{ about_page.mission_body }}
            </p>
          </div>
        </section>
      {% elif about_page and about_page.vision_body %}
        <section id="about-vision" class="about-section vision jumbotron-section" data-aos="fade-up">
          <div class="jumbotron-card vision-card">
            <div class="jumbotron-icon">
              <i class="bi bi-lightbulb"></i>
            </div>
            <h2>{{ about_page.vision_title|default:"Our Vision" }}</h2>
            <p class="mission-vision-text">
              {{ about_page.vision_body }}
            </p>
          </div>
        </section>
      {% endif %}

      <!-- Values Section - Jumbotron Cards with Icons -->
      {% if values %}
        <section id="about-values" class="about-section values jumbotron-section" data-aos="fade-up">
          <div class="section-header">
            <div class="section-icon">
              <i class="bi bi-gem"></i>
            </div>
            <h2>Our Values</h2>
            <p>Principles that guide how we make decisions and build solutions.</p>
          </div>
          <div class="row g-4">
            {% for value in values %}
              <div class="col-md-6 col-lg-4" data-aos="flip-left" data-aos-delay="{{ forloop.counter0|add:1|stringformat:'d' }}00">
                <div class="jumbotron-card value-card">
                  <div class="value-icon">
                    <i class="bi bi-{{ forloop.counter|stringformat:'d' }}-circle-fill"></i>
                  </div>
                  <h3>{{ value.title }}</h3>
                  <p>{{ value.description }}</p>
                </div>
              </div>
            {% endfor %}
          </div>
        </section>
      {% endif %}

      <!-- Team Section - Enhanced Cards -->
      {% if team_members %}
        <section id="about-team" class="about-section team jumbotron-section" data-aos="fade-up">
          <div class="section-header">
            <div class="section-icon">
              <i class="bi bi-people"></i>
            </div>
            <h2>Our Team</h2>
            <p>
              Dravtech is powered by a diverse team of engineers, designers,
              economists, journalists, researchers, and data specialists working
              together to deliver well-rounded solutions.
            </p>
          </div>

          <div class="row g-4">
            {% for member in team_members %}
              <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1|stringformat:'d' }}00">
                <div class="jumbotron-card team-card">
                  <div class="team-photo-wrapper">
                    {% if member.photo %}
                      <img src="{{ member.photo.url }}" alt="{{ member.name }}" class="team-photo">
                    {% else %}
                      <div class="placeholder-avatar">
                        <i class="bi bi-person-circle"></i>
                      </div>
                    {% endif %}
                    
                    <!-- Social Media Overlay -->
                    <div class="team-social-overlay">
                      <div class="social-links">
                        {% if member.linkedin %}
                          <a href="{{ member.linkedin }}" target="_blank" class="social-link linkedin" title="LinkedIn">
                            <i class="bi bi-linkedin"></i>
                          </a>
                        {% endif %}
                        {% if member.github %}
                          <a href="{{ member.github }}" target="_blank" class="social-link github" title="GitHub">
                            <i class="bi bi-github"></i>
                          </a>
                        {% endif %}
                        {% if member.twitter %}
                          <a href="{{ member.twitter }}" target="_blank" class="social-link twitter" title="Twitter/X">
                            <i class="bi bi-twitter-x"></i>
                          </a>
                        {% endif %}
                        {% if member.email %}
                          <a href="mailto:{{ member.email }}" class="social-link email" title="Email">
                            <i class="bi bi-envelope"></i>
                          </a>
                        {% endif %}
                        {% if member.website %}
                          <a href="{{ member.website }}" target="_blank" class="social-link website" title="Website">
                            <i class="bi bi-globe"></i>
                          </a>
                        {% endif %}
                      </div>
                    </div>
                  </div>
                  
                  <div class="team-info">
                    <h3>{{ member.name }}</h3>
                    <p class="role">
                      <i class="bi bi-briefcase me-2"></i>{{ member.role }}
                    </p>
                    {% if member.bio %}
                      <p class="bio">{{ member.bio }}</p>
                    {% endif %}
                  </div>
                  
                  <!-- Social Media Links Below Bio -->
                  {% if member.linkedin or member.github or member.twitter or member.email or member.website %}
                    <div class="team-social-links">
                      {% if member.linkedin %}
                        <a href="{{ member.linkedin }}" target="_blank" class="social-btn linkedin-btn">
                          <i class="bi bi-linkedin"></i>
                        </a>
                      {% endif %}
                      {% if member.github %}
                        <a href="{{ member.github }}" target="_blank" class="social-btn github-btn">
                          <i class="bi bi-github"></i>
                        </a>
                      {% endif %}
                      {% if member.twitter %}
                        <a href="{{ member.twitter }}" target="_blank" class="social-btn twitter-btn">
                          <i class="bi bi-twitter-x"></i>
                        </a>
                      {% endif %}
                      {% if member.email %}
                        <a href="mailto:{{ member.email }}" class="social-btn email-btn">
                          <i class="bi bi-envelope"></i>
                        </a>
                      {% endif %}
                      {% if member.website %}
                        <a href="{{ member.website }}" target="_blank" class="social-btn website-btn">
                          <i class="bi bi-globe"></i>
                        </a>
                      {% endif %}
                    </div>
                  {% endif %}
                  
                  <div class="d-flex justify-content-center mt-3">
                    <button
                      class="btn btn-outline-primary btn-sm"
                      data-bs-toggle="modal"
                      data-bs-target="#bioModal-{{ forloop.counter }}"
                    >
                      <i class="bi bi-person-lines-fill me-1"></i> View Bio
                    </button>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </section>
      {% endif %}

      <!-- Projects / Case Studies Section - Enhanced Cards -->
      {% if projects %}
        <section id="about-projects" class="about-section projects jumbotron-section" data-aos="fade-up">
          <div class="section-header">
            <div class="section-icon">
              <i class="bi bi-folder-open"></i>
            </div>
            <h2>Selected Projects</h2>
            <p>
              A sample of the work we've delivered across technology, media, design,
              and research.
            </p>
          </div>

          <div class="row g-4">
            {% for project in projects %}
              <div class="col-md-6 col-lg-4" data-aos="zoom-in-up" data-aos-delay="{{ forloop.counter0|add:1|stringformat:'d' }}00">
                <div class="jumbotron-card project-card">
                  {% if project.image %}
                    <div class="project-image-wrapper">
                      <img src="{{ project.image.url }}" alt="{{ project.title }}" class="project-image">
                      <div class="project-overlay">
                        <i class="bi bi-eye"></i>
                      </div>
                    </div>
                  {% endif %}
                  <div class="project-body">
                    <div class="project-icon">
                      <i class="bi bi-gear-fill"></i>
                    </div>
                    <h3>{{ project.title }}</h3>
                    <p class="summary">{{ project.summary }}</p>
                    {% if project.related_services.all %}
                      <div class="tags">
                        {% for service in project.related_services.all %}
                          <span class="tag">
                            <i class="bi bi-tag-fill me-1"></i>{{ service.title }}
                          </span>
                        {% endfor %}
                      </div>
                    {% endif %}
                    {% if project.link %}
                      <a href="{{ project.link }}" class="project-link">
                        View Project <i class="bi bi-arrow-right ms-1"></i>
                      </a>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </section>
      {% endif %}

      <!-- Testimonials Section - Enhanced Cards -->
      {% if testimonials %}
        <section id="about-testimonials" class="about-section testimonials jumbotron-section" data-aos="fade-up">
          <div class="section-header">
            <div class="section-icon">
              <i class="bi bi-chat-quote"></i>
            </div>
            <h2>What Our Partners Say</h2>
            <p>
              Reflections from organizations who trusted Dravtech to help design,
              build, and scale solutions.
            </p>
          </div>

          <div class="row g-4">
            {% for t in testimonials %}
              <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1|stringformat:'d' }}00">
                <div class="jumbotron-card testimonial-card">
                  <div class="quote-icon">
                    <i class="bi bi-quote"></i>
                  </div>
                  <p class="quote">"{{ t.quote }}"</p>
                  <div class="author">
                    <div class="author-avatar">
                      <i class="bi bi-person-circle"></i>
                    </div>
                    <div class="author-info">
                      {% if t.is_anonymous or not t.author_name %}
                        <span class="name">Anonymous</span>
                      {% else %}
                        <span class="name">{{ t.author_name }}</span>
                      {% endif %}
                      <span class="meta">
                        {% if t.role %}
                          <i class="bi bi-briefcase me-1"></i>{{ t.role }}
                        {% endif %}
                        {% if t.organization %}
                          {% if t.role %} Â· {% endif %}
                          <i class="bi bi-building me-1"></i>{{ t.organization }}
                        {% endif %}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </section>
      {% endif %}

      <!-- How We Work Section - Enhanced Steps -->
      {% if about_page or how_we_work_steps %}
        <section id="about-how-we-work" class="about-section how-we-work jumbotron-section" data-aos="fade-up">
          <div class="section-header">
            <div class="section-icon">
              <i class="bi bi-diagram-3"></i>
            </div>
            <h2>{{ about_page.how_we_work_title|default:"How We Work" }}</h2>
            {% if about_page and about_page.how_we_work_intro %}
              <p>{{ about_page.how_we_work_intro }}</p>
            {% endif %}
          </div>

          {% if how_we_work_steps %}
            <div class="row g-4">
              {% for step in how_we_work_steps %}
                <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1|stringformat:'d' }}00">
                  <div class="jumbotron-card step-card">
                    <div class="step-number">
                      <i class="bi bi-{{ step.step_number }}-circle-fill"></i>
                      <span>{{ step.step_number }}</span>
                    </div>
                    <div class="step-icon-badge">
                      <i class="bi bi-arrow-right-circle"></i>
                    </div>
                    <h3>{{ step.title }}</h3>
                    <p>{{ step.description }}</p>
                  </div>
                </div>
              {% endfor %}
            </div>
          {% endif %}
        </section>
      {% endif %}

      <!-- Final CTA Section - Jumbotron -->
      {% if about_page %}
        <section id="about-cta" class="about-section final-cta jumbotron-section" data-aos="fade-up">
          <div class="jumbotron-card cta-jumbo">
            <div class="cta-inner">
              <div class="cta-icon">
                <i class="bi bi-envelope-heart"></i>
              </div>
              <h2>{{ about_page.final_cta_headline|default:"Ready to Work Together?" }}</h2>
              <p>
                {{ about_page.final_cta_subtext|default:"Let's discuss how we can help you build innovative solutions for your organization." }}
              </p>
              <div class="cta-buttons">
                <a href="{{ about_page.final_cta_url|default:'/contact/' }}" class="btn btn-primary btn-lg">
                  <i class="bi bi-chat-dots me-2"></i>
                  {{ about_page.final_cta_label|default:"Get in Touch" }}
                </a>
                <a href="{% url 'services_list' %}" class="btn btn-outline-light btn-lg ms-3">
                  <i class="bi bi-grid me-2"></i>
                  Explore Services
                </a>
              </div>
            </div>
          </div>
        </section>
      {% endif %}

    </div>
  </div>

</main>



{% endblock %}
